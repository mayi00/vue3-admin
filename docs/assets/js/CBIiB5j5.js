import{_ as e}from"./C762OUmN.js";import{g as l,h as a,j as o,p as t,y as i,aa as c,u as n,D as s,G as u,H as r,r as v,x as d}from"./DFilHWvT.js";const m={class:"monitor-table"},p={class:"table-header"},f={class:"g-single-ellipsis"},h=e(Object.assign({name:"DeviceMonitor"},{__name:"deviceMonitor",props:{sourceData:{type:Object,default:()=>({})}},emits:[],setup(e,{expose:h,emit:M}){h({});const b=[{time:"202312011030",location:"北京市海淀区中关村科技园科技大厦A座",code:"E1001"},{time:"202312011145",location:"上海市浦东新区张江高科技园区博云路2号",code:"E1002"},{time:"202312011420",location:"广州市天河区珠江新城冼村路28号",code:"E1003"},{time:"202312011650",location:"深圳市南山区科技园南区高新南一道",code:"E1004"},{time:"202312011830",location:"杭州市西湖区文三路90号东部软件园",code:"E1005"},{time:"202312012015",location:"成都市锦江区红星路三段1号",code:"E1006"},{time:"202312012140",location:"武汉市武昌区中南路99号保利广场",code:"E1007"},{time:"202312020825",location:"西安市雁塔区科技路33号高新国际",code:"E1008"}],x=[{time:"202312010915",location:"北京市朝阳区建国路88号SOHO现代城",code:"W2001"},{time:"202312011040",location:"上海市静安区南京西路1788号",code:"W2002"},{time:"202312011325",location:"广州市海珠区琶洲大道8号",code:"W2003"},{time:"202312011540",location:"深圳市福田区福华路3号",code:"W2004"},{time:"202312011715",location:"杭州市余杭区文一西路969号",code:"W2005"},{time:"202312011930",location:"重庆市渝北区龙山路70号",code:"W2006"},{time:"202312012210",location:"天津市和平区南京路129号",code:"W2007"},{time:"202312020745",location:"苏州市工业园区苏州大道东265号",code:"W2008"}],E=d(()=>({fault:[...b,...b],exception:[...x]})),W=v("fault"),g=v(null),I=v(null),T=v(!1),y=v(!1),_=v(null),j=d(()=>"fault"===W.value?E.value.fault:E.value.exception),w=()=>{g.value&&clearInterval(g.value),g.value=setInterval(()=>{T.value||(W.value="fault"===W.value?"exception":"fault",k())},6e4)},A=()=>{const e=_.value;if(e){const l=36,a=e.scrollTop+l,o=500,t=performance.now(),i=e.scrollTop,c=l=>{const n=l-t,s=Math.min(n/o,1),u=s<.5?4*s*s*s:1-Math.pow(-2*s+2,3)/2;if(e.scrollTop=i+(a-i)*u,n<o)requestAnimationFrame(c);else if(e.scrollTop>=e.scrollHeight-e.clientHeight){const l=300,a=performance.now(),o=e.scrollTop,t=i=>{const c=i-a,n=Math.min(c/l,1),s=n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2;e.scrollTop=o-o*s,c<l&&requestAnimationFrame(t)};requestAnimationFrame(t)}};requestAnimationFrame(c)}},k=()=>{const e=_.value;e&&(e.scrollTop=0)},q=e=>{W.value=e,w(),k()},F=()=>{T.value=!0,y.value=!0},H=()=>{T.value=!1,y.value=!1};return l(()=>{w(),I.value&&clearInterval(I.value),I.value=setInterval(()=>{y.value||A()},6e3)}),a(()=>{g.value&&clearInterval(g.value),I.value&&clearInterval(I.value)}),(e,l)=>(o(),t("div",null,[i("div",{class:"monitor-header",onMouseenter:F,onMouseleave:H},[i("div",{class:c(["header-title",{active:"fault"===n(W)}]),onClick:l[0]||(l[0]=e=>q("fault"))}," 故障设备监控 ",2),i("div",{class:c(["header-title",{active:"exception"===n(W)}]),onClick:l[1]||(l[1]=e=>q("exception"))}," 异常设备监控 ",2)],32),i("div",m,[i("div",p,[i("div",null,s("fault"===n(W)?"故障时间":"异常时间"),1),l[2]||(l[2]=i("div",null,"设备地址",-1)),i("div",null,s("fault"===n(W)?"故障代码":"异常代码"),1)]),i("div",{class:"table-body g-hidden-scrollbar",ref_key:"tableBodyRef",ref:_},[(o(!0),t(u,null,r(n(j),(e,l)=>(o(),t("div",{key:l,class:"table-row",onMouseenter:F,onMouseleave:H},[i("div",null,s(e.time),1),i("div",f,s(e.location),1),i("div",null,s(e.code),1)],32))),128))],512)])]))}}),[["__scopeId","data-v-0ee9c944"]]);export{h as default};
