import{_ as a}from"./DqK7WFuo.js";import{ao as e,j as l,p as t,m as s,w as u,aa as i,u as o,af as n,ag as d,ab as r,ac as c,aA as p,G as f,H as m,a2 as g,C as v,a1 as b,y,at as _,au as h,D as V,a6 as S,r as k,E as x,k as w,aB as C}from"./OcaL6beW.js";import{a as L}from"./CFdA1usV.js";import{u as j}from"./BmeqqqNF.js";import{a as z,g as U}from"./CxAYDShj.js";import E from"./ChRcjn99.js";const P={class:"g-container"},T={class:"mb-[10px]"},A=Object.assign({name:"DictType"},{__name:"dictType",setup(A){const D=k(null),B=k({dictLabel:"",dictValue:"",status:""}),W=e(()=>{H.value.currentPage=1,Y()},300);function N(){D.value.resetFields(),W()}const{elementHeight:F}=j({offset:275}),G=k(null),H=k({loading:!1,currentPage:1,pageSize:10,total:0,data:[],columns:[{type:"index",label:"序号",minWidth:60,slot:"index"},{prop:"dictLabel",label:"字典类型名称",minWidth:120},{prop:"dictValue",label:"字典类型值",minWidth:100},{prop:"status",label:"状态",minWidth:60,slot:"status"},{prop:"operation",label:"操作",width:120,align:"center",fixed:"right",slot:"operation"}]});function R(a){return H.value.pageSize*(H.value.currentPage-1)+a+1}function Y(){const a={currentPage:H.value.currentPage,pageSize:H.value.pageSize},e={...B.value};H.value.loading=!0,L.sys.dict.list(a,e).then(a=>{H.value.data=a.data.list,H.value.total=a.data.total}).catch(()=>{H.value.data=[],H.value.total=0}).finally(()=>{H.value.loading=!1})}function I(a){H.value.currentPage=a,Y()}function J(a){H.value.pageSize=a,Y()}const O=k(!1),q=k(!1),K=k({});function M(){q.value=!1,K.value={},O.value=!0}function Q(){O.value=!1,K.value={},Y()}return Y(),(e,k)=>{const j=c,A=r,X=d,Z=C,$=p,aa=g,ea=n,la=i,ta=b,sa=h,ua=_,ia=a;return l(),t("div",P,[s(ta,{shadow:"hover","body-style":"padding-bottom: 0"},{default:u(()=>[s(la,{ref_key:"searchFormRef",ref:D,model:o(B),"label-width":"100px"},{default:u(()=>[s(ea,null,{default:u(()=>[s(X,{span:6},{default:u(()=>[s(A,{label:"字典类型名称",prop:"dictLabel"},{default:u(()=>[s(j,{modelValue:o(B).dictLabel,"onUpdate:modelValue":k[0]||(k[0]=a=>o(B).dictLabel=a),placeholder:"请输入字典类型名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),s(X,{span:6},{default:u(()=>[s(A,{label:"字典类型值",prop:"dictValue"},{default:u(()=>[s(j,{modelValue:o(B).dictValue,"onUpdate:modelValue":k[1]||(k[1]=a=>o(B).dictValue=a),placeholder:"请输入字典类型值",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),s(X,{span:6},{default:u(()=>[s(A,{label:"状态",prop:"status"},{default:u(()=>[s($,{modelValue:o(B).status,"onUpdate:modelValue":k[2]||(k[2]=a=>o(B).status=a),placeholder:"请选择状态",clearable:""},{default:u(()=>[(l(!0),t(f,null,m(o(z)("SYS_ENABLED_STATUS"),a=>(l(),w(Z,{key:a.dictValue,label:a.dictLabel,value:a.dictValue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),s(X,{span:6,style:{"padding-left":"10px"}},{default:u(()=>[s(aa,{type:"primary",onClick:o(W)},{default:u(()=>[...k[4]||(k[4]=[v("查询",-1)])]),_:1},8,["onClick"]),s(aa,{onClick:N},{default:u(()=>[...k[5]||(k[5]=[v("重置",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),s(ta,{shadow:"hover",style:{"margin-top":"10px"}},{default:u(()=>[y("div",T,[s(aa,{type:"primary",onClick:M},{default:u(()=>[...k[6]||(k[6]=[v("新增",-1)])]),_:1})]),s(ia,{ref_key:"hyTableRef",ref:G,height:o(F),loading:o(H).loading,data:o(H).data,columns:o(H).columns,total:o(H).total,"onUpdate:currentPage":I,"onUpdate:pageSize":J},{index:u(({index:a})=>[v(V(R(a)),1)]),status:u(({row:a})=>[s(sa,{type:"ENABLED"===a.status?"success":"danger",effect:"dark"},{default:u(()=>[v(V(o(U)("SYS_ENABLED_STATUS",a.status)),1)]),_:2},1032,["type"])]),operation:u(({row:a})=>[s(aa,{type:"primary",link:"",size:"small",onClick:e=>function(a){q.value=!0,K.value={...a},O.value=!0}(a)},{default:u(()=>[...k[7]||(k[7]=[v("编辑",-1)])]),_:1},8,["onClick"]),s(ua,{title:"请确认是否删除？",width:"160",placement:"top","confirm-button-type":"danger",onConfirm:e=>async function({dictValue:a}){await L.sys.dict.delete({dictValue:a}),x({type:"success",message:"删除成功"}),Y()}(a)},{reference:u(()=>[s(aa,{type:"danger",link:"",size:"small"},{default:u(()=>[...k[8]||(k[8]=[v("删除",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:1},8,["height","loading","data","columns","total"])]),_:1}),s(E,{visible:o(O),"onUpdate:visible":k[3]||(k[3]=a=>S(O)?O.value=a:null),"is-edit":o(q),"dict-type-data":o(K),onSuccess:Q},null,8,["visible","is-edit","dict-type-data"])])}}});export{A as default};
